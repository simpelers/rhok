#{extends 'main.html' /}

<h2>Submit a report</h2>

<div class="objectForm">
#{form @saveReport()}
   #{ifErrors}
        <p class="error">
            Please correct these errors.
        </p>
    #{/ifErrors}
    <p>
    	#{field 'categoryId'}
    	<label>Incident Category</label>
    	<select >
		        #{list categories, as:'category'}
		                 <option value="${category.id}">${category.name}</option>
		        #{/list}
		</select>
		#{/field}
	</p>
    <p>
        #{field 'title'}
        <label>Incident Title</label>
        <input type="text" name="${field.name}" 
            value="${incident?.incidentTitle}" />
        <span class="error">#{error 'incident.incidentTitle' /}</span>
        #{/field}
    </p>
    <p>
    	#{field 'locationId'}
    	<label>Location</label>
    	<select >
		        #{list locations, as:'location'}
		                 <option value="${location.id}">${location.name}</option>
		        #{/list}
		</select>
		#{/field}
	</p>
 
    <p>
        #{field 'content'}
        <label>Description:</label>
        <textarea name="${field.name}">${post?.description}</textarea>
        <span class="error">#{error 'post.description' /}</span>
        #{/field}
    </p>
    
    <p>
        #{field 'direction'}
        <label>Direction</label>
        <input type="text" name="${field.name}" 
            value="${incident?.direction}" />
        <span class="error">#{error 'incident.direction' /}</span>
        #{/field}
    </p>
    
    <p>
        <input type="submit" value="Submit Report" />
    </p>
#{/form}
</div>